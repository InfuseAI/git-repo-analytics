"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[616],{5616:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var l=n(1431),i=n(7615),a=n(9355),r=n(2904),o=n(1756),s=n(4657),d=n(7255),c=n(2471),u=n(7708),m=n(9698),x=n(7437),p=n(962),h=n(4641),j=n(5607),f=n(6062),g=n(2282),b=n(4236),v=n(2175),C=n(7932),S=n(5887),y=["added","deleted","changed"];function w(e){var t=e.added,n=void 0===t?0:t,l=e.deleted,a=void 0===l?0:l,r=e.changed,o=void 0===r?0:r,s=(0,C.Z)(e,y);return(0,S.jsxs)(i.kC,(0,v.Z)((0,v.Z)({gap:2},s),{},{children:["( Added:",(0,S.jsx)(i.xv,{as:"span",fontWeight:700,children:n}),"Deleted:",(0,S.jsx)(i.xv,{as:"span",fontWeight:700,children:a}),"Changed:",(0,S.jsx)(i.xv,{as:"span",fontWeight:700,children:o}),")"]}))}var D=n(421),T=n(3015),k=n(1039),A=n(2622),P=n(1055),R=n(6674),Z=n(8685);function E(e){var t,n,v,C=e.data,y=e.columnName,E=e.tableName;(0,P.jr)("Comparison Report: Table Column Details"),(0,P.Lp)({eventName:R.mk.PAGE_VIEW,eventProperties:{type:R.bB,page:"column-details-page"}});var _=C.base.tables,O=C.input.tables,W=(0,r.TH)(),B=(0,l.Z)(W,2)[1],H=(0,o.useState)(0),z=(0,l.Z)(H,2),I=z[0],L=z[1],M=0===y.length,F=(0,T.n)((function(e){return e.setReportRawData})),G=(0,s.Z)(R.gA,""),K=(0,l.Z)(G,1)[0],Q=(0,o.useState)(Boolean(K)),Y=(0,l.Z)(Q,2),V=Y[0],J=Y[1];F({base:C.base,input:C.input});var q=T.n.getState(),U=q.tableColumnsOnly,X=void 0===U?[]:U,$=q.assertionsOnly,ee=X.find((function(e){return(0,l.Z)(e,1)[0]===E}));if(!E||!_||!O||!ee)return(0,S.jsx)(d.o,{isSingleReport:!1,children:(0,S.jsx)(j.J,{text:"No profile data found for table name: ".concat(E)})});var te=(0,l.Z)(ee,3),ne=te[1],le=ne.base,ie=ne.target,ae=te[2],re=_[E],oe=O[E],se=(null===re||void 0===re?void 0:re.columns)||{},de=(null===oe||void 0===oe?void 0:oe.columns)||{},ce=se[y],ue=de[y],me=ue||ce,xe=(ce||{}).type,pe=(ue||{}).type,he=(0,Z.SR)((null===$||void 0===$||null===(t=$.base)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.table)===E})))||[]),je=he.failed,fe=he.total,ge=(0,Z.SR)((null===$||void 0===$||null===(n=$.target)||void 0===n?void 0:n.filter((function(e){return(null===e||void 0===e?void 0:e.table)===E})))||[]),be=ge.failed,ve=ge.total,Ce=(0,f.MM)(me),Se=Ce.backgroundColor,ye=Ce.icon;return(0,S.jsx)(d.o,{isSingleReport:!1,maxHeight:x.t4,children:(0,S.jsxs)(i.rj,{width:"inherit",templateColumns:V?x.L0:x.Lj,children:[(0,S.jsx)(i.P4,{overflowY:"scroll",maxHeight:x.t4,children:(0,S.jsx)(m._,{tableColEntryList:X,tableColEntry:ee,currentTable:E,currentColumn:y,onSelect:function(e){var t=e.tableName,n=e.columnName;L(0),B("/tables/".concat(t,"/columns/").concat(n))},onNavBack:function(){B("/")},onNavToTableDetail:function(e){B("/tables/".concat(e,"/columns/"))},onToggleShowExtra:function(){return J((function(e){return!e}))}})}),M?(0,S.jsxs)(i.P4,{maxHeight:x.t4,overflowY:"auto",p:10,children:[(0,S.jsx)(D.Q,{title:E,subtitle:"Table",mb:5,infoTip:null===(v=oe||re)||void 0===v?void 0:v.description}),(0,S.jsxs)(a.mQ,{defaultIndex:0,children:[(0,S.jsxs)(a.td,{children:[(0,S.jsx)(a.OK,{children:"Overview"}),(0,S.jsx)(a.OK,{children:"Assertions"}),(0,S.jsx)(a.OK,{children:"Schema"})]}),(0,S.jsxs)(a.nP,{children:[(0,S.jsxs)(a.x4,{children:[(0,S.jsx)(N,{}),(0,S.jsxs)(i.rj,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,S.jsx)(g.m,{tableDatum:re}),(0,S.jsx)(i.iz,{orientation:"vertical"}),(0,S.jsx)(g.m,{tableDatum:oe})]})]}),(0,S.jsxs)(a.x4,{children:[Number(fe)>0&&(0,S.jsx)(i.kC,{mb:5,children:(0,S.jsx)(A.z,{baseAssertionFailed:je,baseAssertionTotal:fe,targetAssertionFailed:be,targetAssertionTotal:ve})}),(0,S.jsx)(i.rj,{templateColumns:"1fr",gap:3,height:"100%",children:(0,S.jsx)(k.O,{filterString:E,filterByTableOnly:!0,caseSensitiveFilter:!0,comparableAssertions:$,tableSize:"sm"})})]}),(0,S.jsxs)(a.x4,{children:[(0,S.jsx)(i.kC,{pb:3,children:(0,S.jsx)(w,{fontWeight:"semibold",color:"gray.600",added:ae.added,deleted:ae.deleted,changed:ae.changed})}),(0,S.jsx)(i.rj,{templateColumns:"1fr",gap:3,height:"100%",children:(0,S.jsx)(b.r,{baseTableEntryDatum:le,targetTableEntryDatum:ie})})]})]})]})]}):(0,S.jsxs)(i.rj,{templateColumns:"1fr 1fr",width:"100%",maxHeight:x.t4,overflowY:"auto",children:[(0,S.jsxs)(i.P4,{colSpan:2,rowSpan:2,p:9,children:[(0,S.jsx)(D.Q,{title:y,subtitle:null===me||void 0===me?void 0:me.schema_type,infoTip:(null===ue||void 0===ue?void 0:ue.description)||(null===ce||void 0===ce?void 0:ce.description),mb:5,borderBottom:x.dx,icon:ye,iconColor:Se}),(0,S.jsx)(N,{})]}),(0,S.jsx)(i.P4,{colSpan:2,px:9,py:2,bg:"gray.50",children:(0,S.jsxs)(i.rj,{templateColumns:"1fr 1fr",gap:8,minWidth:0,children:[(0,S.jsx)(c.t,{columnDatum:ce}),(0,S.jsx)(c.t,{columnDatum:ue})]})}),((0,f.jl)(xe)||(0,f.jl)(pe))&&(0,S.jsx)(i.P4,{colSpan:2,gridRow:"span 1",px:9,py:2,bg:"gray.50",children:(0,S.jsxs)(i.rj,{templateColumns:"1fr 1fr",gap:8,children:[(0,S.jsx)(p.E,{columnDatum:ce}),(0,S.jsx)(p.E,{columnDatum:ue})]})}),((0,f.hG)(xe)||(0,f.hG)(pe))&&(0,S.jsx)(i.P4,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,S.jsxs)(i.rj,{templateColumns:"1fr 1fr",gap:8,children:[(0,S.jsx)(h.M,{columnDatum:ce}),(0,S.jsx)(h.M,{columnDatum:ue})]})}),(0,S.jsx)(i.P4,{colSpan:2,gridRow:"span 1",minWidth:0,p:9,bg:"gray.50",children:(0,S.jsx)(u.r,{baseColumnDatum:ce,targetColumnDatum:ue,hasSplitView:!0,hasAnimation:!0,tabIndex:I,onSelectTab:function(e){return L(e)}})})]})]})})}function N(){return(0,S.jsx)(i.rj,{templateColumns:"1fr 1fr",mb:2,gap:10,children:["Base","Target"].map((function(e,t){return(0,S.jsx)(i.kC,{alignItems:"center",w:"100%",children:(0,S.jsx)(i.xv,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:e})},t)}))})}}}]);
//# sourceMappingURL=616.73bcbf5f.chunk.js.map